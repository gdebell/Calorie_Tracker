promise
allow you to get a pieces of data from a website then
punch it into a new



// jquery test
$(document).on('ready', function() {
  // console.log('sanity check!');
});

// $.ajax({
//   method: 'GET',
//   url: 'http://www.omdbapi.com/?t=Frozen'
// }).done(data => {
//   console.log(data);
// });




function searchMovie(title) {
  return new Promise(function(resolve, reject) {
    // resolve = function
    // reject = function

    $.ajax({
      method: 'GET',
      url: 'http://www.omdbapi.com/?t=' + title
    }).done(data => {
      resolve(data);
    });
  });
}




// searchMovie('Frozen').then(function(movie) {
//   console.log(movie);
// });

function searchByYear(year) {
  return new Promise(function(resolve, reject) {
    $.ajax({
      method: 'GET',
      url: 'http://www.omdbapi.com/?s=all&y=' + year
    }).done(function(movies) {
      resolve(movies);
    });
  });
}

// searchByYear(2010).then(function(movies) {
//   var title = movies.Search[1].Title;
//   return searchMovie(title);
// }).then(function(movie) {
//   console.log(movie);
// });

// Get the director of:
//     1. The Godfather
//     2. Bring it On
//     3. Forrest Gump
// Concatenate them together into a funny string or something.
var stringThing = '';

searchMovie('The Godfather').then(function(movie) {
  let director = movie.Director;
  // console.log(director);
  stringThing += director;
  return searchMovie('Bring it On');
}).then(function(movie) {
  // console.log(movie);
  let director = movie.Director;
  stringThing += ' eats ' + director;
  return searchMovie('Forrest Gump');
}).then(function(movie) {
  let director = movie.Director;
  stringThing += ' while ' + director + ' watches.';
  console.log(stringThing);
});

var promises = [searchMovie('The Godfather'), searchMovie('Bring it On'), searchMovie('Forrest Gump')];

Promise.all(promises).then(function(proms) {
  let stringy = '';
  proms.forEach((item, index) => {
    if (index === 0) {
      stringy += item.Director;
    }
    else if (index === 1) {
      stringy += ' eats ' + item.Director;
    }
    else {
      stringy += ' while ' + item.Director + ' watches.';
    }
  });
  console.log(stringy);
}).then(function(promsAgain) {
  console.log(promsAgain);
});
